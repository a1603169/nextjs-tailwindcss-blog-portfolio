---
title: 'GCP Cloud Engineer - 54'
subtitle: 'Essential Cloud Infrastructure: Sacling and Automation - Cloud CDN'
date: '2024-04-18'
tags: [Cloud, GCP]
---

### **Cloud CDN(Content Delivery Network)의 개요**

- **`기본 기능`**:
  
  - ㅁ `전 세계 에지 접속 지점`을 사용하여 `HTTP(S) 부하 분산 콘텐츠를 캐시`합니다.
  
  - ㅁ 사용자와 `가까운 위치에서 콘텐츠를 제공`하여 `응답 시간을 단축`하고 `처리 비용을 절감`합니다.

### **Cloud CDN 설정 및 이점**

- **`쉬운 설정`**:
  
  - ㅁ HTTP(S) `부하 분산기의 백엔드 서비스 설정 시 간단히 체크박스를 통해 사용` 설정 가능.

- **`응답 흐름`**:
  
  - ㅁ `URL 맵`을 통해 `결정된 콘텐츠`를 `적절한 백엔드`(VM 인스턴스 그룹 또는 Cloud Storage 버킷)로 `라우팅`합니다.
  
  - ㅁ `캐시 부적중 시 다른 에지에서 콘텐츠`를 가져오거나 `백엔드로부터 직접 요청을 처리`합니다.

### **캐시 동작과 로그 기록**

- **`캐시 적중과 부적중`**:
  
  - ㅁ `콘텐츠가 이미 캐시된 경우 즉시 제공`하여 `빠른 응답 시간`을 보장합니다.
  
  - ㅁ `새로운 콘텐츠 요청`은 백엔드에서 `처리 후 캐시되어 향후 요청에 대비`합니다.

- **`로그 기록`**:
  
  - ㅁ 각 `HTTP(S) 요청`에 대한 `캐시 적중 또는 부적중 상태`를 `자동으로 기록`합니다.

### **Cloud CDN 캐시 모드**

- **`캐시 모드 옵션`**:
  
  
  - ㅁ **`USE_ORIGIN_HEADERS`**: `원본 서버`의 `캐싱 지시문에 따라 콘텐츠를 캐시`합니다.
  
  
  - ㅁ **`CACHE_ALL_STATIC`**: `no-store`, `private`, 또는 `no-cache 지시문`이 없는 정적 콘텐츠를 자동으로 캐시합니다.
  
  
  - ㅁ **`FORCE_CACHE_ALL`**: `모든 응답을 무조건 캐시`하며, `원본의 캐시 지시문을 무시/재정의`합니다.

### **캐시 전략과 콘텐츠 관리**

- **`캐시 전략 선택`**:
  
  - ㅁ `콘텐츠의 유형`과 `동적 또는 정적 특성`에 따라 `적절한 캐시 모드`를 선택합니다.

- **`콘텐츠 관리 주의사항`**:
  
  - ㅁ `FORCE_CACHE_ALL` 모드 사용 시, 사용자별 비공개 콘텐츠를 캐시하지 않도록 주의해야 합니다.