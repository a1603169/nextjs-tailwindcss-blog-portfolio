---
title: 'GCP Cloud Engineer - 52'
subtitle: 'Essential Cloud Infrastructure: Sacling and Automation - Managed instance groups / Auto Scaling'
date: '2024-04-18'
tags: [Cloud, GCP]
---

### **관리형 인스턴스 그룹** (Managed Instance Groups)

- **`기본 개념`**:
  
  - ㅁ 단일 항목으로 관리되는 동일한 `VM 인스턴스의 모음`.
  
  - ㅁ `인스턴스 템플릿`을 사용하여 그룹의 `모든 인스턴스를 쉽게 업데이트`할 수 있음.

- **`부하 분산 및 자동 복구`**:
  
  - ㅁ `부하 분산 서비스`와 연동하여 `네트워크 트래픽 분산`.
  
  - ㅁ 인스턴스가 `중지`되거나 `다운`될 경우 `자동으로 다시 만들어짐`.

- **`자동 확장 기능`**:
  
  - ㅁ 애플리케이션의 `컴퓨팅 리소스 수요`에 따라 `인스턴스 수를 자동으로 조절`.

### **리전 관리형 인스턴스 그룹**

- **`다중 영역 부하 분산`**:
  
  - ㅁ 애플리케이션 부하를 `여러 영역에 분산, 단일 영역 장애 대비`.

- **`장애 대비 기능`**:
  
  - ㅁ 한 영역의 인스턴스 그룹이 오작동하거나 장애가 발생해도 `다른 영역에서 트래픽 처리 지속 가능`.

### **인스턴스 템플릿**

- **`템플릿 설정`**:
  
  - ㅁ 인스턴스 생성 과정과 유사하되, 선택사항이 반복될 수 있도록 설계.

### **인스턴스 그룹 생성 및 관리**

- **`인스턴스 그룹 설정`**:
  
  - ㅁ 인스턴스 그룹의 유형, 이름, 위치 및 사용할 인스턴스 템플릿을 정의.
  
  - ㅁ `자동 확장` 및 `상태 점검 설정 고려`.

### **자동 확장 및 상태 점검**

- **`자동 확장`**:
  
  - ㅁ 트래픽 증가에 따라 인스턴스` 자동 추가`, 부하 감소시 `인스턴스 자동 삭제`.
  
  - ㅁ `CPU 사용률`, `부하 분산 용량`, `모니터링 측정항목 기반 확장` 등 다양한 정책 적용.

- **`상태 점검`**:
  
  - ㅁ 인스턴스의 상태를 주기적으로 확인하여 `정상 작동 여부 결정`.
  
  - ㅁ `프로토콜, 포트, 상태` 기준 정의에 따른 `상태 점검 수행`.


### 모르는 단어

#### MIG vs Instance Cluster(HPC 같은거)

Google Cloud Platform (GCP)에서 **Managed Instance Group (MIG)**과 **Instance Cluster**는 사용자에게 유사한 자원을 제공할 수 있지만, 그 용도와 관리 방식에 있어 중요한 차이점이 있습니다. 

##### Managed Instance Group (MIG)

1. **자동 확장 및 관리**: MIG는 자동으로 인스턴스를 확장하거나 축소하여 트래픽 변동에 따라 자원을 조절할 수 있습니다. 이는 주로 애플리케이션의 부하에 따라 유연하게 대응하기 위해 사용됩니다.

2. **부하 분산과 통합**: MIG는 부하 분산기와 통합되어 트래픽을 여러 인스턴스에 분산시키며, 이를 통해 고가용성과 내결함성을 제공합니다.

3. **자동 복구**: 인스턴스가 실패하거나 건강 검사를 통과하지 못할 경우 자동으로 교체됩니다.

4. **정책 기반 관리**: 인스턴스의 위치, 네트워크, 디스크 유형 등을 정책으로 설정할 수 있으며, MIG는 이 정책에 따라 인스턴스를 자동으로 관리 및 조정합니다.

##### Instance Cluster

- **개념 설명**: GCP에서 "Instance Cluster"는 공식적으로 정의된 용어는 아니며, 일반적으로 여러 인스턴스가 특정 목적을 위해 집합적으로 사용되는 구성을 비공식적으로 지칭할 때 사용됩니다.

- **용도**: 이는 특정 애플리케이션, 예를 들어 데이터베이스 클러스터나 고성능 컴퓨팅 (HPC) 클러스터 등의 특별한 요구사항을 충족하기 위해 사용될 수 있습니다.

- **관리**: 사용자가 인스턴스 간의 통신, 구성 및 관리를 수동으로 설정하고 조정해야 할 수 있습니다. 예를 들어, Google Kubernetes Engine (GKE) 클러스터나 Bigtable 클러스터 같은 관리형 서비스를 사용하는 경우에 해당될 수 있습니다.

##### 주요 차이점

- **관리의 자동화 정도**: MIG는 GCP에서 제공하는 완전 관리형 서비스로, 많은 관리 작업을 자동화합니다. 반면, "Instance Cluster"는 사용자가 특정 요구에 맞게 맞춤 설정한 인스턴스 그룹을 일컫는 용어로, 관리 수준은 사용자가 결정하게 됩니다.

- **통합과 호환성**: MIG는 GCP의 부하 분산기와 같은 다른 관리형 서비스와 통합되도록 설계되었습니다. "Instance Cluster"는 사용자가 선택한 특정 애플리케이션에 따라 다양하게 구성될 수 있습니다.

결국, GCP에서 인스턴스를 관리하는 방법을 선택할 때는 애플리케이션의 요구사항과 관리 용이성을 고려해야 합니다.

Managed Instance Group은 대부분의 웹 애플리케이션과 서비스에 적합한 반면, 

특정 애플리케이션에 특화된 "Instance Cluster"는 보다 복잡한 설정이나 특별한 요구사항을 가진 경우에 사용될 수 있습니다.