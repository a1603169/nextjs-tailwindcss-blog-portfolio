---
title: 'GCP Cloud Engineer - 44'
subtitle: 'Essential Google Cloud Infrastructure: Core Services (한국어) - Quotas(할당량) / Label(라벨) / Billing(결제)'
date: '2024-04-17'
tags: [Cloud, GCP]
---

### Quotas (할당량)
 
 **프로젝트 할당량 개념:**

- ㅁ Google Cloud의 모든 리소스에는 `프로젝트 할당량`이나 한도가 적용됨

- ㅁ `프로젝트 할당량`은 세 가지 카테고리로 분류됨:

   - 프로젝트별 리소스 `수량 제한` (예: VPC 네트워크 15개)

   - API 요청 비율 제한 (예: Cloud Spanner API 초당 5개의 관리 작업)

   - 리전별 리소스 할당량 (예: 리전당 24개의 CPU)

- ㅁ Google Cloud 사용량이 늘어나면 `할당량`도 조정 가능

- ㅁ 사용량이 예상되는 경우 사전에 `할당량` 조정 가능

- ㅁ `할당량` 변경의 이유:

   - 악의적 공격이나 실수로 인한 사용량 낭비 방지

   - 비용 관리를 위한 중요한 요소

 
 **할당량의 중요성:**

- ㅁ 결제액 급증이나 예상치 못한 비용 발생 방지

- ㅁ `할당량`은 비용 청구와 관련이 있음

- ㅁ 예산과 알림 설정을 통한 비용 관리 방법도 중요

- ㅁ `할당량` 사용 시 주기적인 검토 필요

- ㅁ `할당량`은 리소스 유형별로 최대 리소스 수량을 나타냄

- ㅁ `할당량`이 있어도 해당 리소스가 항상 제공되는 것은 아님 (예: 리전에서 로컬 SSD를 다 사용한 경우 해당 리전에서 로컬 SSD 생성 불가)


-------------------------


### Label(라벨)

**라벨의 개념:**

- ㅁ`라벨`은 Google Cloud 리소스를 정리하는 유틸리티

- ㅁ 리소스에 연결되는 `키-값 쌍`으로 구성

- ㅁ `최대 64개`의 라벨을 각 리소스에 적용 가능

**라벨 활용:**

- ㅁ 리소스를 `세부적으로 분류`할 때 사용

- ㅁ `인벤토리 목적`으로 리소스를 `검색하고 나열`하는 데 활용 가능

- ㅁ `비용 분석`이나 `일괄 작업(batch)` 실행 시 라벨을 활용 가능

**라벨의 용도:**

- ㅁ `팀` 또는 `비용 센터` 기반으로 라벨을 추가하여 `리소스 소유자 구별`

- ㅁ `구성 요소`를 `식별`하기 위해 라벨을 사용할 수 있음

- ㅁ `환경이나 단계`를 `기반`으로 리소스를 `분류`하기 위해 사용 가능

- ㅁ 리소스의 `소유자`나 `기본 담당자`를 `정의`하기 위해 사용 가능

- ㅁ 리소스의 상태를 정의하기 위해 사용 가능

**라벨과 태그의 차이:**

- ㅁ`라벨`은 리소스를 정리하는 데 사용되는 `키-값 형식의 사용자 정의 문자열`이며 `결제까지 전달`될 수 있음

- ㅁ`태그`는 `인스턴스에만` 적용되는 `사용자 정의 문자열`로 주로 `네트워킹` 등에 사용됨


------------------

### Billing(결제)

 **예산 설정과 관리**:

ㅁ 프로젝트에 속하는 모든 리소스의 소비량은 `단일 결제 계정`에 `누적`됨

ㅁ 예산 설정은 `프로젝트 계획을 세우고 비용을 관리`하는 데 도움이 됨

 **예산 설정 방법**:

ㅁ 예산 이름 설정 및 적용할 프로젝트 지정

ㅁ 예산 금액 설정 또는 `지난달 지출에 맞춤 가능`

 **예산 알림 설정**:

ㅁ 예산 금액을 결정한 후 `예산 알림 설정 가능`

ㅁ 지출이 `일정 비율`이나 `지정된 금액을 초과`하면 청구 관리자에게 `이메일 알림` 전송

ㅁ 예산 기간 말에 지출이 예상 비율을 초과할 경우 알림 설정 가능

 **Pub/Sub 알림 설정**:

ㅁ `Cloud Pub/Sub 알림`을 사용하여 프로그래매틱 방식으로 `예산의 지출 업데이트`를 받을 수 있음

ㅁ Pub/Sub 주제를 수신하여 클라우드 함수를 생성하여 `비용 관리 자동화` 가능

 **라벨을 활용한 지출 최적화**:

ㅁ `서로 다른 리전`에 분산된 리소스에 라벨을 지정하여 비용을 최적화할 수 있음

ㅁ 예를 들어, 인스턴스의 `일부를 재배치`하거나 `캐싱 서비스를 사용하여 네트워킹 지출을 절감`할 수 있음

 **`BigQuery`를 활용한 지출 분석**:

ㅁ `모든 리소스에 라벨을 지정`하고 `결제 데이터를 BigQuery로 내보내어 지출을 분석`할 수 있음

ㅁ BigQuery는 `확장 가능`하고 `완전 관리형인 데이터 웨어하우스`로 `SQL을 지원`하고 `응답 시간이 빠름`

 **데이터 스튜디오를 활용한 시각화**:

ㅁ `데이터 스튜디오`를 사용하여 `시간 경과에 따른 지출을 시각화`할 수 있음

ㅁ `대시보드와 보고서를` 생성하여 데이터를 `읽고 공유`하기 쉬움

ㅁ 예를 들어, `라벨을 사용`하여 청구 보고서를 `상세하게 분석`할 수 있음